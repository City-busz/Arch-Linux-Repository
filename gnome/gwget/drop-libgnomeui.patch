diff -Naur gwget-1.0.4.orig/configure.ac gwget-1.0.4/configure.ac
--- gwget-1.0.4.orig/configure.ac	2009-10-17 22:26:09.000000000 +0200
+++ gwget-1.0.4/configure.ac	2012-01-12 04:24:11.973198745 +0100
@@ -14,15 +14,13 @@
 
 AM_GCONF_SOURCE_2
 
-LIBGNOMEUI_REQUIRED=2.0.0
-LIBGNOME_REQUIRED=2.0.0
 GTK_REQUIRED=2.6.0
 GCONF_REQUIRED=1.1.11
 DBUS_GLIB_REQUIRED=0.33
 GIO_REQUIRED=2.16.0
 
-PKG_CHECK_MODULES(GNOME, libgnomeui-2.0 >= $LIBGNOMEUI_REQUIRED
-		 	  gtk+-2.0 	>= $GTK_REQUIRED 
+PKG_CHECK_MODULES(GNOME,  gtk+-2.0 	>= $GTK_REQUIRED 
+ 			  gconf-2.0
 			  gmodule-2.0
 			  gio-unix-2.0 >= $GIO_REQUIRED)
 			
diff -Naur gwget-1.0.4.orig/src/custom-cell-renderer-progressbar.c gwget-1.0.4/src/custom-cell-renderer-progressbar.c
--- gwget-1.0.4.orig/src/custom-cell-renderer-progressbar.c	2009-06-16 19:58:06.000000000 +0200
+++ gwget-1.0.4/src/custom-cell-renderer-progressbar.c	2012-01-12 04:22:57.000000000 +0100
@@ -21,7 +21,10 @@
 
 #include <config.h>
 #include <stdlib.h>
-#include <gnome.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <glib/gi18n.h>
+#include <gtk/gtk.h>
 /* #include <glib/gi18n.h> */
 
 #include "custom-cell-renderer-progressbar.h"
diff -Naur gwget-1.0.4.orig/src/gwget-application.c gwget-1.0.4/src/gwget-application.c
--- gwget-1.0.4.orig/src/gwget-application.c	2009-06-20 10:12:37.000000000 +0200
+++ gwget-1.0.4/src/gwget-application.c	2012-01-12 04:22:57.000000000 +0100
@@ -21,8 +21,6 @@
 #include "gwget-application.h"
 
 
-#include <libgnomeui/gnome-client.h>
-
 #ifdef ENABLE_DBUS
 #include "gwget-application-service.h"
 #include <dbus/dbus-glib-bindings.h>
@@ -86,39 +84,6 @@
 #endif /* ENABLE_DBUS */
 
 
-static gint
-save_session (GnomeClient *client, gint phase, GnomeSaveStyle save_style, gint shutdown,
-	      GnomeInteractStyle interact_style, gint fast, GwgetApplication *application)
-{
-	char **restart_argv;
-	int argc = 0;
-
-	restart_argv = g_new (char *, 1);
-	restart_argv[0] = g_strdup ("gwget");
-	gnome_client_set_restart_command (client, argc, restart_argv);
-
-	return TRUE;
-}
-
-static void
-removed_from_session (GnomeClient *client, GwgetApplication *application)
-{
-	gwget_application_shutdown (application);
-}
-
-static void
-init_session (GwgetApplication *application)
-{
-	GnomeClient *client;
-
-	client = gnome_master_client ();
-
-	g_signal_connect (client, "save_yourself",
-			  G_CALLBACK (save_session), application);	
-	g_signal_connect (client, "die",
-			  G_CALLBACK (removed_from_session), application);
-}
-
 gboolean
 gwget_application_open_window (GwgetApplication  *application,
                            guint32         timestamp,
@@ -199,7 +164,6 @@
 static void
 gwget_application_init (GwgetApplication *gwget_application)
 {
-	init_session (gwget_application);
 
 }
 
diff -Naur gwget-1.0.4.orig/src/main.c gwget-1.0.4/src/main.c
--- gwget-1.0.4.orig/src/main.c	2009-06-20 10:12:37.000000000 +0200
+++ gwget-1.0.4/src/main.c	2012-01-12 04:22:57.000000000 +0100
@@ -17,11 +17,13 @@
 
 #include <config.h>
 
-#include <gnome.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <glib/gi18n.h>
+#include <gtk/gtk.h>
 #include <string.h>
 #include <gconf/gconf-client.h>
 #include <locale.h>
-#include <libgnomeui/libgnomeui.h>
 #include <gio/gio.h>
 
 #include "main_window_cb.h"
@@ -201,7 +199,6 @@
 
 int main(int argc,char *argv[])
 {
-	GnomeProgram *program;
 	GOptionContext *context;
 	
 	context = g_option_context_new (_("Gwget Download Manager"));
@@ -220,12 +217,7 @@
 	
 
 	gwget_init_pref(&gwget_pref);
-	program = gnome_program_init(PACKAGE, VERSION, 
-				LIBGNOMEUI_MODULE, argc, argv,
-			        GNOME_PARAM_GOPTION_CONTEXT, context, 
-				GNOME_PARAM_HUMAN_READABLE_NAME, _("Gwget"),
-				GNOME_PARAM_APP_DATADIR, GNOME_GWGET_LOCALEDIR,
-                              	NULL);
+	gtk_init (&argc, &argv);
 	
 #ifdef ENABLE_DBUS
 	if (!gwget_application_register_service (GWGET_APP)) {
@@ -243,9 +234,5 @@
 	
 	gtk_main();
 	
-	gnome_accelerators_sync ();
-	
-	g_object_unref (program);
-	
 	return (0);
 }
diff -Naur gwget-1.0.4.orig/src/main_window.c gwget-1.0.4/src/main_window.c
--- gwget-1.0.4.orig/src/main_window.c	2009-08-14 19:19:51.000000000 +0200
+++ gwget-1.0.4/src/main_window.c	2012-01-12 04:22:57.000000000 +0100
@@ -15,7 +15,10 @@
  */
  
 #include <config.h>
-#include <gnome.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <glib/gi18n.h>
+#include <gtk/gtk.h>
 #include <gconf/gconf-client.h>
 #include <glib/gstdio.h>
 #include <string.h>
diff -Naur gwget-1.0.4.orig/src/main_window_cb.c gwget-1.0.4/src/main_window_cb.c
--- gwget-1.0.4.orig/src/main_window_cb.c	2009-08-14 19:19:51.000000000 +0200
+++ gwget-1.0.4/src/main_window_cb.c	2012-01-12 04:22:57.000000000 +0100
@@ -15,7 +15,10 @@
  */
  
 #include <config.h>
-#include <gnome.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <glib/gi18n.h>
+#include <gtk/gtk.h>
 #include <gconf/gconf-client.h>
 #include <signal.h>
 
@@ -241,13 +244,7 @@
 	g_object_set_data(G_OBJECT(model),gwgetdata->url,gwgetdata);
 	
 	theme = gtk_icon_theme_get_default ();
-	if (!gwgetdata->recursive) {
-		content_type = g_content_type_guess (gwgetdata->local_filename, NULL, 0, NULL);
-		gwgetdata->icon_name = gnome_icon_lookup (theme, NULL, NULL, NULL, NULL,
-	 							content_type, GNOME_ICON_LOOKUP_FLAGS_NONE, NULL);
-	} else {
-		gwgetdata->icon_name = g_strdup("gtk-refresh");
-	}
+	gwgetdata->icon_name = g_strdup("gtk-refresh");
 	gtk_icon_size_lookup (GTK_ICON_SIZE_MENU, &width, &height);
 	width *= 2;
 	height *= 2;
diff -Naur gwget-1.0.4.orig/src/new_window.c gwget-1.0.4/src/new_window.c
--- gwget-1.0.4.orig/src/new_window.c	2009-08-14 19:19:51.000000000 +0200
+++ gwget-1.0.4/src/new_window.c	2012-01-12 04:22:57.000000000 +0100
@@ -24,7 +24,10 @@
 */
 
 
-#include <gnome.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <glib/gi18n.h>
+#include <gtk/gtk.h>
 #include <config.h>
 #include "new_window.h"
 #include "main_window.h"
diff -Naur gwget-1.0.4.orig/src/systray.c gwget-1.0.4/src/systray.c
--- gwget-1.0.4.orig/src/systray.c	2009-08-14 19:19:51.000000000 +0200
+++ gwget-1.0.4/src/systray.c	2012-01-12 04:22:57.000000000 +0100
@@ -1,6 +1,9 @@
 
 #include <config.h>
-#include <gnome.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <glib/gi18n.h>
+#include <gtk/gtk.h>
 #include "main_window.h"
 #include "gwget_data.h"
 #include "systray.h"
diff -Naur gwget-1.0.4.orig/src/utils.c gwget-1.0.4/src/utils.c
--- gwget-1.0.4.orig/src/utils.c	2009-08-14 19:19:51.000000000 +0200
+++ gwget-1.0.4/src/utils.c	2012-01-12 04:22:57.000000000 +0100
@@ -14,7 +14,10 @@
  *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
  */
 
-#include <gnome.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <glib/gi18n.h>
+#include <gtk/gtk.h>
 #include "main_window.h"
 #include "utils.h"
 #include "gwget_data.h"
diff -Naur gwget-1.0.4.orig/src/wget-log.c gwget-1.0.4/src/wget-log.c
--- gwget-1.0.4.orig/src/wget-log.c	2009-10-04 20:29:35.000000000 +0200
+++ gwget-1.0.4/src/wget-log.c	2012-01-12 04:22:57.000000000 +0100
@@ -25,7 +25,10 @@
 #define _FILE_OFFSET_BITS 64
 
 #include <config.h>
-#include <gnome.h>
+#include <stdlib.h>
+#include <errno.h>
+#include <glib/gi18n.h>
+#include <gtk/gtk.h>
 #include <string.h>
 #include <sys/stat.h>
 #include <unistd.h>

# Contributor: mutlu_inek <mutlu_inek@yahoo.de>

pkgname=ttf-vista-fonts
pkgver=1
pkgrel=3
pkgdesc="Microsoft Vista True Type Fonts"
url="http://www.microsoft.com/downloads/details.aspx?FamilyId=428D5727-43AB-4F24-90B7-A94784AF71A4&displaylang=en"
license=(custom)
arch=('i686' 'x86_64')
depends=('fontconfig' 'xorg-font-utils')
makedepends=(cabextract)
conflicts=()
provides=()
replaces=('vista-fonts')
install=$pkgname.install
source=('http://download.microsoft.com/download/f/5/a/f5a3df76-d856-4a61-a6bd-722f52a5be26/PowerPointViewer.exe')
md5sums=('9b4b476488674ae103d2e97cd88cd222')

build() {
  mkdir -p $startdir/src/$pkgname-$pkgver
  cabextract --lowercase $startdir/src/PowerPointViewer.exe -d $startdir/src/$pkgname-$pkgver
  cabextract --lowercase $startdir/src/$pkgname-$pkgver/ppviewer.cab -d $startdir/src/$pkgname-$pkgver
  mkdir -p $startdir/pkg/usr/share/fonts/TTF
  install -m644 $startdir/src/$pkgname-$pkgver/*.{ttf,ttc} $startdir/pkg/usr/share/fonts/TTF
  mv $startdir/src/$pkgname-$pkgver/eula.txt $startdir/src/$pkgname-$pkgver/license.txt
  mkdir -p $startdir/pkg/usr/share/licenses/$pkgname
  install -D -m644 $startdir/src/$pkgname-$pkgver/license.txt $startdir/pkg/usr/share/licenses/$pkgname
}

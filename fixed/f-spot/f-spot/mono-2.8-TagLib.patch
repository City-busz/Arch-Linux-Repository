From c1ef435b47a111046b86a5df33d98829762dc3ab Mon Sep 17 00:00:00 2001
From: Marek Habersack <grendel@twistedcode.net>
Date: Wed, 15 Sep 2010 23:18:08 +0200
Subject: [PATCH] All fields of a struct must be initialized before the constructor returns

---
 lib/TagLib/TagLib/src/TagLib/IFD/Entries/Rational.cs  |    6 ++++--
 lib/TagLib/TagLib/src/TagLib/IFD/Entries/SRational.cs |    6 ++++--
 2 files changed, 8 insertions(+), 4 deletions(-)

diff --git a/lib/TagLib/TagLib/src/TagLib/IFD/Entries/Rational.cs b/lib/TagLib/TagLib/src/TagLib/IFD/Entries/Rational.cs
index e8a69c5..2113a9a 100644
--- a/lib/TagLib/TagLib/src/TagLib/IFD/Entries/Rational.cs
+++ b/lib/TagLib/TagLib/src/TagLib/IFD/Entries/Rational.cs
@@ -62,8 +62,10 @@ namespace TagLib.IFD.Entries
 		/// </param>
 		public Rational (uint numerator, uint denominator)
 		{
-			Numerator = numerator;
-			Denominator = denominator;
+			if (denominator == 0)
+				throw new ArgumentException ("denominator");
+			this.numerator = numerator;
+			this.denominator = denominator;
 		}
 
 #endregion
diff --git a/lib/TagLib/TagLib/src/TagLib/IFD/Entries/SRational.cs b/lib/TagLib/TagLib/src/TagLib/IFD/Entries/SRational.cs
index f80dee8..59ca58a 100644
--- a/lib/TagLib/TagLib/src/TagLib/IFD/Entries/SRational.cs
+++ b/lib/TagLib/TagLib/src/TagLib/IFD/Entries/SRational.cs
@@ -62,8 +62,10 @@ namespace TagLib.IFD.Entries
 		/// </param>
 		public SRational (int numerator, int denominator)
 		{
-			Numerator = numerator;
-			Denominator = denominator;
+			if (denominator == 0)
+				throw new ArgumentException ("denominator");
+			this.numerator = numerator;
+			this.denominator = denominator;
 		}
 
 #endregion
-- 
1.7.2.3
